!function(e){function _(_){for(var s,n,o=_[0],c=_[1],u=_[2],d=0,l=[];d<o.length;d++)n=o[d],i[n]&&l.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(a&&a(_);l.length;)l.shift()();return t.push.apply(t,u||[]),r()}function r(){for(var e,_=0;_<t.length;_++){for(var r=t[_],s=!0,o=1;o<r.length;o++){var c=r[o];0!==i[c]&&(s=!1)}s&&(t.splice(_--,1),e=n(n.s=r[0]))}return e}var s={},i={"web/friends":0},t=[];function n(_){if(s[_])return s[_].exports;var r=s[_]={i:_,l:!1,exports:{}};return e[_].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=s,n.d=function(e,_,r){n.o(e,_)||Object.defineProperty(e,_,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,_){if(1&_&&(e=n(e)),8&_)return e;if(4&_&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&_&&"string"!=typeof e)for(var s in e)n.d(r,s,function(_){return e[_]}.bind(null,s));return r},n.n=function(e){var _=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(_,"a",_),_},n.o=function(e,_){return Object.prototype.hasOwnProperty.call(e,_)},n.p="/js/cmodules/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=_,o=o.slice();for(var u=0;u<o.length;u++)_(o[u]);var a=c;t.push([130,"bundles/common"]),r()}({130:function(e,_,r){e.exports=r("Bg1q")},Bg1q:function(e,_,r){"use strict";r.r(_);var s=r("Fu+V");window.Friends=s.default;try{stManager.done(jsc("web/friends.js"))}catch(e){}},"Fu+V":function(__webpack_module__,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("KKXr"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Oyvg"),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("OG14"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("pIFo"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("Vd3H"),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("98sY"),_web_lib_stats__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("XzvV"),_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ryw6"),_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("zxIV"),Friends={init:function init(friendsTpl,commonTpl){extend(cur,{fSearchWrap:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_search_cont","friends"),fSearch:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("s_search"),fSearchFilterLnk:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_search_fltr_control","market_search_wrap"),fSearchExtSearchLink:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_search_fltr_ext_link","market_search_wrap"),module:"friends",fListEl:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_list"),showMore:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("show_more"),pageEnd:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("page_end"),fContent:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("list_content"),fSearchContent:Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_cont"),friendsTpl,commonTpl,savedMasks:{},friends:{},timeouts:{}}),cur.secData||(cur.secData={}),cur.curList=cur.section,placeholderInit(cur.fSearch),setTimeout(function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.isVisible)("friends_search_input_wrap")&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.elfocus)(cur.fSearch)},0),Friends.scrollNode=browser.msie6?pageNode:window,addEvent(Friends.scrollNode,"scroll",Friends.scrollResize),setTimeout(function(){cur.destroy.push(function(){clearTimeout(cur.resizeTimeout),removeEvent(Friends.scrollNode,"scroll",Friends.scrollResize)})},0),cur.silent||this.indexAll(function(){"list"==cur.section.substr(0,4)&&(cur.friendsList[cur.section]=Friends.filter(cur.friendsList.all,cur.section)),cur.friendsList[cur.section]&&cur.friendsList[cur.section].length||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_not_found")}),cur.nav.push(function(e,_,r){if("id"in e||"sort"in e||"act"in e||isEmpty(e))return!0;if("friends"==r[0]||"al_friends.php"==r[0]&&e.section){var s=e.section;return"requests"!=s&&"all_requests"!=s&&"out_requests"!=s||cur.requestsCount||cur.suggCount||cur.allRequestsCount||cur.outRequestsCount?"requests"!=s||cur.requestsCount||cur.suggCount?"all_requests"!=s||cur.allRequestsCount?("out_requests"!=s||cur.outRequestsCount)&&("subscribers"!=s||cur.subscribersCount)?("all"!=s&&"online"!=s&&"requests"!=s&&"all_requests"!=s&&"out_requests"!=s||__adsUpdate("force"),"all_requests"!=s||"sort"in e||cur.sortByCommon||(delete r.sort,setTimeout(Friends.changeSummary,0)),this.section(r.section,function(){this.changeSummary(),nav.setLoc(r)}.bind(this)),!1):nav.change({section:"all"}):nav.change({section:cur.requestsCount||cur.suggCount?"requests":"out_requests"}):nav.change({section:cur.allRequestsCount?"all_requests":"out_requests"}):nav.change({section:"all"})}return"al_friends.php"!=r[0]&&"friends"!=r[0]&&void 0}.bind(this)),cur.silent&&ajax.post("al_friends.php",{act:"load_friends_silent",id:cur.oid,gid:cur.gid,sort:nav.objLoc.sort,platform_id:nav.objLoc.platform_id},{onDone:function(data,occupations,filters){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(cur.showMore,"load_more"),cur.silent=!1;var obj=null;try{obj=eval("("+data+")")}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__.logEvalError)(e,data)}if(obj){for(var i in cur.occupations=extend(cur.occupations||{},occupations),obj)obj.hasOwnProperty(i)&&(cur.friendsList[i]=obj[i]);this.indexAll(function(){"list"==cur.section.substr(0,4)&&(cur.friendsList[cur.section]=Friends.filter(cur.friendsList.all,cur.section)),(cur.onSilentLoad||Friends.showMore)()}),filters.cities&&stManager.add(["ui_controls.js","ui_controls.css"],function(){cur.cityFilter.setData(filters.cities),cur.cityFilterOpened&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_fltr_progress"),cur.cityFilter.showDefaultList())})}}.bind(this),local:1})},indexAll:function(e){var _=cur.friendsList.all;cur.friendsIndex=new window.vkIndexer(_,function(e){var _=parseInt(e[0]);return cur.friends&&_&&(cur.friends[_]=e),e[5]||""},function(){cur.silent||(cur.friendsList.online=Friends.filter(_,"online"),"common"==cur.section&&(cur.friendsList.common=Friends.filter(_,"common")),e&&e()),Friends.initBackFunc()}),"phonebook"==cur.section&&Friends.indexPhone()},indexPhone:function(){cur.phoneIndex=new window.vkIndexer(cur.friendsList.phonebook,function(e){var _=e[11][0]||"",r=e[11][1]||"",s=e[11][2]||"";return[e[5],_,_.replace(/[^0-9\+]/g,""),r,r.replace(/[^0-9\+]/g,""),s].join(" ")})},initBackFunc:function(){cur._back={text:cur.backLang,show:[function(){addEvent(Friends.scrollNode,"scroll",Friends.scrollResize)}],hide:[function(){if(Friends.searchTimout&&clearTimeout(Friends.searchTimout),cur.timeouts)for(var e in cur.timeouts)cur.timeouts.hasOwnProperty(e)&&clearTimeout(cur.timeouts);removeEvent(Friends.scrollNode,"scroll",Friends.scrollResize)}]}},switchTab:function(e,_,r){if(checkEvent(r))return!0;uiTabs.switchTab(e);var s={0:"friends",section:_};return checkEvent(r)||nav.change(s)},switchMenu:function(e,_,r){if(void 0!==e.href&&checkEvent(r))return!0;var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("ui_rmenu",e);if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_rmenu_item_sel",s)==e)return!1;uiRightMenu.switchMenu(e);var i={0:"friends",section:_};if(vk.id!=cur.oid)i.id=cur.oid;else if(cur.gid)return nav.change({section:_}),!1;return"find"==nav.objLoc.act&&uiRightMenu.showProgress(e),nav.go(i,r),scrollToTop(0),!1},filter:function(e,_){var r=e?e.length:0,s=[],i=0;"list"==_.substr(0,4)&&(i=parseInt(_.substr(4)),_="list");for(var t=0;t<r;t++){var n=e[t];if(!cur.filterIds||cur.filterIds[parseInt(n[0])])switch(_){case"online":intval(n[4])&&s.push(n);break;case"common":cur.commonCount&&n[11]&&s.push(n);break;case"list":parseInt(n[6])&1<<i&&s.push(n);break;default:s.push(n)}}return s},loadMore:function loadMore(start,end,forceSection){var section=forceSection||cur.section,list=cur.curList,curData=cur.secData[section],showMore="sugg_requests"==forceSection?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_more"):cur.showMore;curData.loading||(curData.loading=!0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(showMore,"load_more"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)(showMore),ajax.post("/friends",extend({act:"get_section_friends",section,offset:start,id:cur.oid,gid:cur.gid,sort:nav.objLoc.sort},cur.filter),{onDone:function(data,preload){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(showMore,"load_more");var response=null;try{response=eval("("+data+")")}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__.logEvalError)(e,data)}cur.friendsList&&(cur.friendsList[list]||(cur.friendsList[list]=[]),"requests"==list&&response.sugg_requests?Array.prototype.push.apply(cur.friendsList.sugg_requests,response.sugg_requests):Array.prototype.push.apply(cur.friendsList[list],response[section]),this.showMore(!1,start,end),curData.loading=!1,curData.preload=preload)}.bind(this)}))},showMore:function(e,_,r,s){if(!cur.friendsList)return!1;var i=cur.curList,t=cur.friendsList[i],n=cur.friendsPerPage,o="requests"==cur.section&&!e&&cur.suggCount&&(!Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.isVisible)(cur.showMore)||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(cur.showMore,"manual")),c=cur.showMore,u=cur.section,a=cur.sectionCount,d=cur.shownFriends;if(o||"requests"!=cur.section||!cur.suggCount||cur.shownFriends||_||(n=3,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(cur.showMore,"manual"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)(cur.showMore)),-1===e&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(cur.showMore,"manual")&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(cur.showMore,"manual"),cur.pageEnd=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_wrap")),e=!1),!o){if(!t||!t.length){if(0==cur.shownFriends&&!cur.searchCount){if(cur.isLoading)return!1;cur.searchStr?(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)("friends_not_found","friends_search"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("search_ph").innerHTML=cur.searchStr.replace(/([<>&#]*)/g,"")):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends_not_found","friends_search"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends_not_found","friends_only_other");var l="";l="list"==cur.curList.substr(0,4)?cur.filterIds?(l=cur.summaryLang.list_not_found_filter).replace("{link}",'<a onclick="Friends.clearFilter(true);">').replace("{/link}","</a>"):(l=cur.summaryLang.list_not_found).replace("{link}",'<a onclick="Friends.editList(-1);">').replace("{/link}","</a>"):"requests"==cur.section?cur.summaryLang.friends_no_friend_requests:cur.filter?(l=cur.summaryLang.not_found_filter).replace("{link}",'<a onclick="Friends.clearFilter(true);">').replace("{/link}","</a>"):cur.summaryLang.not_found,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_not_found_text").innerHTML=l,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_not_found")}return e&&(cur.fContent.innerHTML=""),cur.searchCount&&Friends.serverSearchMore(),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("show_more","friends_search_more"),void("requests"==cur.section&&e&&cur.suggCount&&(cur.fSearchContent.innerHTML="",this.showMore(!1,_,r,s),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_wrap")))}Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.isVisible)("friends_not_found")&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_not_found"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends_not_found","friends_only_other"))}o&&(t=(cur.friendsList.sugg_requests||[]).slice(),u="sugg_requests",a=cur.suggCount,c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_more"),d=cur.shownSugg),null==_&&(_=d),null==r&&(r=d+n);var b=t.slice(_,r);if(!b.length){var f=cur.secData[u];return f&&f.preload&&Friends.loadMore(_,r,u),cur.searchCount&&Friends.serverSearchMore(),void(d>=a&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(c))}var E=[];for(var O in e&&(cur.fContent.innerHTML=""),b)if(b.hasOwnProperty(O)){var h=b[O];if(cur.selection){var m=b[O].slice();m[5]=m[5].replace(cur.selection.re,cur.selection.val)}if(++d,o?++cur.shownSugg:++cur.shownFriends,h){var M="";o&&(M="sugg_requests"),E.push(...Friends.drawFriend(h,M))}}if(s)return'<div class="friends_list_bl">'+E.join("")+"</div>";(o?cur.fSearchContent:cur.fContent).appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ce)("div",{innerHTML:E.join(""),className:"friends_list_bl"})),d>=a?(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(c),cur.pageEnd=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("page_end")):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)(c),!o&&"requests"==cur.section&&e&&-1!==e&&cur.suggCount&&(cur.fSearchContent.innerHTML="",this.showMore(!1,_,r,s),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_wrap"))},updateList:function(e,_){if(cur.silent)return cur.onSilentLoad=function(){Friends.updateList(e,!0)},void(trim(e)&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(cur.showMore),cur.fContent.innerHTML='<div class="friends_wide_loading"></div>'));clearTimeout(Friends.searchTimout),Friends.searchTimout=setTimeout(function(){cur.searchStr!=e&&(cur.searchStr=e,e?("all"!=cur.section&&"phonebook"!=cur.section&&(this.selectTab("all"),this.selectSection("all"),cur.curList=cur.section="all",nav.setLoc(extend(nav.objLoc,{section:"all"}))),this.search(e,cur.section),this.changeSummary()):cur.section!=cur.curList||_?(this.showSection(),this.changeSummary(),this.showMore()):(this.hideLoading(),cur.searchCount=0,this.showMore()),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(cur.fSearchWrap,"ui_search_fixed")&&scrollToY(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_input_wrap").offsetTop,0))}.bind(Friends),10)},showSection:function(e){if(cur.shownFriends=cur.shownSugg=0,cur.curList=cur.section=e||cur.section,vk.id==cur.oid){var _="requests"==cur.section||"all_requests"==cur.section||"out_requests"==cur.section;if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends","friends_phonebook"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends","friends_requests"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(cur.fSearchFilterLnk,"friends_sort_control","friends_req_block",cur.fSearchExtSearchLink),_){("requests"==cur.section&&cur.requestsCount>50||"all_requests"==cur.section&&cur.allRequestsCount>10)&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_sort_control"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_input_wrap","friends_search_header"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_sugg_header");var r=(cur.requestsCount||cur.suggCount?1:0)+(cur.allRequestsCount?1:0)+(cur.outRequestsCount?1:0);Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.toggle)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_requests","narrow_column"),r>=1),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.toggle)("friends_tab_requests",cur.requestsCount>0||cur.suggCount>0),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.toggle)("friends_tab_all_requests",cur.allRequestsCount>0),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.toggle)("friends_tab_out_requests",cur.outRequestsCount>0),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)("friends","friends_requests"),val(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("_friends_list","friends_req_block"),"")}else if("phonebook"==cur.section)Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_input_wrap",cur.fSearchFilterLnk),Friends.showListHeader(cur.summaryLang.friends_filter_phonebook),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)("friends","friends_phonebook");else if("recent"==cur.section)Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_input_wrap",cur.fSearchFilterLnk),Friends.showListHeader(cur.summaryLang.friends_tab_recently_added);else if("members"==cur.section)Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_input_wrap",cur.fSearchExtSearchLink);else if(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_sugg_header"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_input_wrap","friends_search_header",cur.fSearchFilterLnk),cur.requestsCount&&cur.friendsList.requests){var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_req_block");Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("_friends_list",s).innerHTML=cur.commonTpl(cur.friendsList.requests[0],"requests").join(""),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)(s)}val(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("_label",cur.showMore),_?cur.summaryLang.friends_show_more_requests:cur.summaryLang.friends_show_more_friends)}else cur.gid||("subscribers"==cur.section?(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_input_wrap"),Friends.showListHeader(cur.summaryLang.friends_tab_subscribers)):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_input_wrap"));Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.isVisible)("friends_search_input_wrap")&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.elfocus)(cur.fSearch),cur.filterIds&&(cur.curList+="_filter");var i,t=cur.friendsList[cur.curList];if(t||(i="recent"==e||"phonebook"==e||"requests"==e?e:"all",t=cur.friendsList[cur.curList]=this.filter(cur.friendsList[i],cur.section)),cur.sectionCount=t?t.length:0,cur.selection=!1,cur.filter&&!cur.filterIds)return Friends.changeFilter(),cur.searchStr||this.clearServerSearch(),!1;this.showMore(!0)},updateView:function(){cur.fContent.innerHTML=this.showMore(!1,0,cur.shownFriends,!0)},showLoading:function(){cur.isLoading=1,uiSearch&&uiSearch.showProgress("s_search")},hideLoading:function(){cur.isLoading=0,uiSearch&&uiSearch.hideProgress("s_search")},serverSearchMore:function(){"requests"!=cur.section?cur.serverLoadingMore||cur.searchFinished||(cur.serverLoadingMore=!0,ajax.post("friends",{act:"server_search",q:cur.searchStr,offset:cur.searchOffset},{onDone:function(e,_,r){cur.searchFinished=!_,cur.searchFinished&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_more"),cur.searchOffset=r,cur.serverLoadingMore=!1,e&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_cont").appendChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ce)("div",{innerHTML:e,className:"friends_list_bl"}))},showProgress:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_more"),"load_more")},hideProgress:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_more"),"load_more")}})):Friends.showMore()},serverSearch:function(e,_,r){cur.searchCount=0,Friends.showLoading(),cur.serverSearchStr=e,clearTimeout(cur.serverSearchTimeout);var s=[];for(var i in r)r.hasOwnProperty(i)&&s.push(r[i][0]);var t=+new Date;cur.serverSearchTimeout=setTimeout(()=>{ajax.post("friends",{act:"server_search",q:e,exclude:s.join(",")},{onDone:function(r,s,i){_||Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_6__.saveSearchAttemptStats)("friends",t,s,cur.serverSearchStr),cur.searchOffset=i,cur.searchFinished=!s,Friends.hideLoading(),cur.searchStr==e&&(cur.searchCount=s,0==cur.shownFriends&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_wrap"),cur.fContent.innerHTML="",Friends.showMore()),s?(cur.searchFinished?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_more"):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_more"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_search_cont").innerHTML='<div class="friends_list_bl">'+r+"</div>",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_search_wrap"),Friends.changeSummary(),_?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends_not_found","friends_only_other"):(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)("friends_not_found","friends_only_other"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)("friends_not_found","friends_search"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_not_found"))):Friends.changeSummary())},onFail:Friends.hideLoading})},300)},clearServerSearch:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_wrap"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_search_more"),cur.searchCount=0,cur.pageEnd=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("page_end")},goToSearch:function(e){nav.go("friends?act=find&c%5Bname%5D=1&c%5Bq%5D="+encodeURIComponent(cur.searchStr)+"&c%5Bsection%5D=people")},search:function(e,_,r,s){var i,t,n;if(cur.shownFriends=0,cur.section=_,e){if(t="phonebook"==_?cur.phoneIndex:cur.friendsIndex,-1==e)i="phonebook"==_?_:"all",n=this.filter(cur.friendsList[i],_),(e="")!=cur.searchStr&&this.clearServerSearch();else{n=t.search(e),cur.filterIds&&(n=this.filter(n,_));var o=n.length;o&&(e==cur.serverSearchStr||cur.sectionCount||this.clearServerSearch()),o&&Object(_web_lib_stats__WEBPACK_IMPORTED_MODULE_6__.saveSearchAttemptStats)("friends",0,o,e),o<5&&cur.oid==vk.id&&!cur.gid&&"phonebook"!=_&&this.serverSearch(e,o,n)}var c=cur.section;if(cur.filterIds&&(c+="_filter"),e&&(c+="_search_"+e),cur.curList==c&&!s)return;cur.curList=c,cur.friendsList[cur.curList]=n;var u={all:1,online:1,common:1};if(""==e&&cur.filterIds&&u[_])for(var a in delete u[_],u)cur.friendsList[a]&&(n=this.filter(cur.friendsList[i],a),cur.friendsList[a+"_filter"]=n);e&&(e+=" "+(parseLatin(e)||""),e=trim(escapeRE(e.replace(/[,]/g,""))),cur.selection={re:new RegExp("("+e.replace(t.delimiter,"|").replace(/(^\||\|$|\?)/g,"")+")","gi"),val:'<em class="highlight">$1</em>'})}else cur.curList=cur.section,cur.selection=!1,cur.searchStr&&this.clearServerSearch();cur.sectionCount=cur.friendsList[cur.curList].length,this.searchTimout=setTimeout(function(){this.showMore(!0),r&&(Friends.onSectionChange(),r())}.bind(this),10)},changeSummary:function(e){var _={all:cur.allFriendsCount,common:cur.commonCount};if(cur.friendsList.online&&(_.online=cur.friendsList.online.length),cur.gid||vk.id!=cur.oid||(_=extend(_,{requests:cur.requestsCount?cur.requestsCount:"",all_requests:cur.allRequestsCount,out_requests:cur.outRequestsCount})),"list"==cur.curList.slice(0,4)||"phonebook"==cur.curList.slice(0,9))Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_list_count").innerHTML=cur.sectionCount?langNumeric(cur.sectionCount,"%s",!0):"";else if("subscribers"==cur.section)Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_list_count").innerHTML=cur.subscribersCount?langNumeric(cur.subscribersCount,"%s",!0):"";else if("requests"==cur.section&&cur.suggCount)Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_sugg_count").innerHTML=cur.suggCount?langNumeric(cur.suggCount,"%s",!0):"";else if(-1!=cur.curList.indexOf("_search_")||cur.filterIds){if("all"==cur.section){if(!cur.sectionCount&&!cur.searchCount&&cur.isLoading)return;_.all=cur.sectionCount}else _.all=cur.friendsList.all_filter.length;-1==cur.curList.indexOf("_search_")?(cur.friendsList.online_filter&&(_.online=cur.friendsList.online_filter.length),cur.friendsList.common_filter&&(_.common=cur.friendsList.common_filter.length)):_.online=_.common=""}if(each(_,function(e,_){var r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_tab_"+e);if(r){var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_tab_count",r);s&&(s.innerHTML=_?langNumeric(_,"%s",!0):"")}}),!cur.gid&&vk.id==cur.oid){var r=intval(_.requests+cur.suggCount);r=r?langNumeric(r,"%s",!0):"",val(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_rmenu_count","ui_rmenu_requests"),r),val(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("page_block_header_count","friends_req_block"),r),(r>1?_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(domPN(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_request_load_more")))}document.title=replaceEntities(stripHTML(cur.htitles[cur.section]||cur.htitles.all))},showListHeader:function(e,_){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_list_title").innerHTML=e,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_list_count").innerHTML="",each(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass)("_friends_header",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_tabs_wrap")),function(){"friends_tab_list"===this.id?(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(this,"unshown"),_?vk.id==cur.oid&&((_<25?_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_list_delete_btn"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_list_edit_btn")):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_list_edit_btn","friends_list_delete_btn")):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(this,"unshown")})},selectTab:function(e){e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_tab","friends_tab_"+e);var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("ui_tabs",e);each(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass)("_friends_header",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_tabs_wrap")),function(){this==_?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(this,"unshown"):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(this,"unshown")}),uiTabs.switchTab(e)},selectSection:function(e){var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_"+e,"narrow_column");_&&uiRightMenu.switchMenu(_)},selectTabAndSection:function(e){if("all"==e||"online"==e||"common"==e||"members"==e)this.selectTab(e),this.selectSection("all");else if("all_requests"==e||"requests"==e||"out_requests"==e)this.selectTab(e),this.selectSection("requests");else if("list"==e.substr(0,4)){var _=parseInt(e.substr(4)),r="";r=_>=25&&_<=29?cur.publicLists[_]:cur.userLists[_],this.showListHeader(r,_),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.isVisible)("ui_rmenu_lists_list")||uiRightMenu.toggleSubmenu("lists"),this.selectSection(e)}else this.selectTab("all"),this.selectSection(e)},onSectionChange:function(){window.tooltips&&tooltips.hideAll()},section:function section(type,callback,updateData){if(Friends.clearServerSearch(),type||(type="all"),updateData||("online"!=type||cur.oid==vk.id)&&-1==type.indexOf("requests")&&"recent"!=type&&"members"!=type||"list"==type.substr(0,4)||(Friends.clearFilter(),Friends.updateCurFilters()),type||(type=cur.requestsCount&&cur.requestsCount>0&&cur.requestsCount<100||cur.suggCount?"requests":"all"),cur.requestsCount||cur.suggCount||cur.allRequestsCount||cur.outRequestsCount||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_requests","narrow_column")),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_req_block"),type!=cur.section&&(cur.fSearch.setValue(""),cur.searchStr=""),this.selectTabAndSection(type),cur.silent&&"out_requests"!=type)return cur.onSilentLoad=function(){Friends.section(type,callback)},void(type!=cur.section&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(cur.showMore),cur.fContent.innerHTML='<div class="friends_wide_loading"></div>'));if(cur.secData[type]||(cur.secData[type]={}),!updateData&&cur.friendsList[type]||"all"==type||"requests"==type&&cur.friendsList.sugg_requests)return this.showSection(type),callback(),Friends.onSectionChange(),void(cur.filter&&Friends.changeFilter());switch(type){case"online":case"common":this.search(-1,type,callback);break;case"phonebook":var tabPhonebook=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_phonebook","narrow_column");uiRightMenu.showProgress(tabPhonebook),ajax.post("/al_friends.php",{act:"phonebook",id:nav.objLoc.id},{onDone:function(e){if(e){cur.shownFriends=0,cur.curList=cur.section=type;var _=cur.friendsList.all,r=[];if(_)for(var s=0,i=_.length;s<i;s++){var t=_[s],n=e[t[0]];n&&(t.push(n),r.push(t))}if(r.sort(function(e,_){return e[5].localeCompare(_[5],{sensitivity:"base"})}),cur.friendsList[cur.section]=r,cur.sectionCount=r.length,cur.fContent.innerHTML="",uiRightMenu.hideProgress(tabPhonebook),Friends.showSection(type),Friends.onSectionChange(),callback(),Friends.indexPhone(),cur.filterIds)return cur.curList+="_filter",Friends.search(cur.searchStr||-1,cur.section,!1,!0),void Friends.changeSummary();this.showMore()}}.bind(this)});break;case"recent":var tabRecent=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_recent","narrow_column");uiRightMenu.showProgress(tabRecent),ajax.post("/al_friends.php",{act:"recent"},{onDone:function(e){if(e){cur.shownFriends=0,cur.curList=cur.section=type;for(var _=[],r=e.length,s=0;s<r;s++){var i=cur.friends[e[s]];i&&_.push(i)}cur.friendsList[cur.section]=_,cur.sectionCount=_.length,cur.fContent.innerHTML="",uiRightMenu.hideProgress(tabRecent),Friends.showSection(type),Friends.onSectionChange(),callback(),this.showMore()}}.bind(this)});break;case"out_requests":cur.fContent.innerHTML='<div class="friends_wide_loading"></div>',ajax.post("/friends",{act:"out_requests"},{onDone:function(data,occupations){var obj=null;try{obj=eval("("+data+")")}catch(e){Object(_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_5__.logEvalError)(e,data)}obj&&(extend(cur.occupations,occupations),extend(cur.friendsList,obj),this.indexAll(function(){Friends.section(type,callback)}))}.bind(this)});break;default:"list"==type.substr(0,4)&&this.search(-1,type,callback)}},scrollResize:function(){if(!browser.mobile){var e=document.documentElement,_=window.innerHeight||e.clientHeight||bodyNode.clientHeight,r=scrollGetY();cur.pageEnd&&(r+3*_>cur.pageEnd.offsetTop&&setTimeout(function(){Friends.showMore()},0),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.isVisible)("friends_search_input_wrap"))}},drawFriend:function(e,_){return"requests"==cur.section||"all_requests"==cur.section||"out_requests"==cur.section?cur.commonTpl(e,_||cur.section):cur.friendsTpl(e,cur.section)},inviteToGroup:function(e,_,r,s,i){var t=function(s){for(var i in cur.friendsList[cur.curList])if(cur.friendsList[cur.curList].hasOwnProperty(i)){var t=cur.friendsList[cur.curList][i],n=void 0;if(t[0]==r){t[11]=s,n=s?`<button class="flat_button button_small button_wide secondary" onclick="return Friends.inviteToGroup(this, ${_}, ${r}, 1, '${t[12]}')">${getLang("friends_cancel_invite")}</button>`:`<button class="flat_button button_small button_wide" onclick="return Friends.inviteToGroup(this, ${_}, ${r}, 0, '${t[12]}')">${getLang("friends_send_invite")}</button>`,e.parentNode.replaceChild(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.se)(n),e);break}}};return s?ajax.post("/al_page.php",{act:"a_cancel_invite",mid:r,gid:_,hash:i},{onDone:function(e){t(0)},showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e)}):ajax.post("/al_page.php",{act:"a_invite",mid:r,gid:_,hash:i},{onDone:function(_,s){_?t(1):(Object(_web_lib_ui_util__WEBPACK_IMPORTED_MODULE_7__.showMsg)("res"+r,s,"msg"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(e))},showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e)}),!1},acceptRequest:function(e,_,r,s){var i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("request_controls_"+e);r||(i.innerHTML='<div class="progress_inline"></div>'),ajax.post("al_friends.php",{act:"add",mid:e,hash:_,request:1,select_list:1},{onDone:function(_){i.innerHTML=_,Friends.processRequest(e,!0,s),TopNotifier&&!TopNotifier.shown()&&TopNotifier.invalidate()},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0},showProgress:lockButton.pbind(r),hideProgress:unlockButton.pbind(r)})},declineRequest:function(e,_,r){var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("request_controls_"+e);r||(s.innerHTML='<div class="progress_inline"></div>'),ajax.post("al_friends.php",{act:"remove",mid:e,hash:_,report_spam:1,from_section:cur.section},{onDone:function(_){cur.declinedRequestsCnt=cur.declinedRequestsCnt+1||1,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("friends_user_row",s),"friends_user_request")&&cur.declinedRequestsCnt>=2&&cur.requestsCount>1&&(_+='<button class="friends_decline_all flat_button button_small secondary" onclick="Friends.subscribeAllRequests(this, \''+cur.declineAllHash+"')\">"+cur.summaryLang.friends_hide_all_requests+"</button>"),s.innerHTML=_,Friends.processRequest(e,!1),TopNotifier&&!TopNotifier.shown()&&TopNotifier.invalidate()},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0},showProgress:lockButton.pbind(r),hideProgress:unlockButton.pbind(r)})},processRequest:function(e,_,r){if(cur.friendsList){for(var s=cur.friendsList[r?"sugg_requests":"requests"]||[],i=s.length,t=!1;i--;)if(s[i][0]==e){var n=s.splice(i,1)[0];r?--cur.suggCount:--cur.requestsCount,Friends.changeSummary(),_?(t=!0,n.pop(),cur.friendsList.all?cur.friendsList.all.push(n):cur.friendsList.all=[n],cur.friends[n[0]]=n):r?(cur.shownSugg--,cur.suggCount--):(cur.shownFriends--,cur.sectionCount--)}if(_){for(var o=cur.friendsList.all_requests||[],c=o.length;c--;)if(o[c][0]==e){var u=o.splice(c,1)[0];--cur.allRequestsCount,t||(u.pop(),cur.friendsList.all?cur.friendsList.all.push(u):cur.friendsList.all=[u],cur.friends[u[0]]=u)}delete cur.friendsList.recent,delete cur.friendsList.online,Friends.indexAll()}else for(var a=cur.friendsList.out_requests||[],d=a.length;d--;)a[d][0]==e&&--cur.outRequestsCount;if("all"===cur.section&&cur.friendsList.requests.length){var l=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("_friends_list","friends_req_block");if(l){var b=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.se)(cur.commonTpl(cur.friendsList.requests[0],"requests").join(""));l.appendChild(b)}}}},actionPossible:function(e,_,r,s,i){if(window.tooltips&&tooltips.hide(s),cur.possibleAdded||(cur.possibleAdded={}),!cur.possibleAdded[e]){cur.possibleAdded[e]=1,i||(i=cur.module);var t,n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("right_list_row",s);return t=r?{act:"add",mid:e,hash:_,from:i,request:1}:{act:"hide_possible",mid:e,hash:_,from:i},ajax.post("al_friends.php",t,{onDone:function(e){r&&showDoneBox(e);var _=n.parentNode,s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("unshown",_);s&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.domInsertBefore)(s,n),fadeOut(n,500,function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.re)(n),s||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("right_list_row",_)||slideUp("friends_possible_block",100)}),s&&setTimeout(fadeIn.pbind(s,200,_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass.pbind(s,"unshown")),500)},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0}}),r&&cur.friendsList&&(delete cur.friendsList.out_requests,cur.outRequestsCount++,this.changeSummary("out_requests"),"out_requests"==cur.section&&nav.change({section:"out_requests"})),!1}},actionFindUser:function(e,_,r,s){window.tooltips&&tooltips.hide(s);var i,t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("friends_find_user",s),n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_find_user_result",t);return n.innerHTML='<div class="progress_inline"></div>',i=r?{act:"add",mid:e,hash:_,from:"possible"}:{act:"hide_possible",mid:e,hash:_},ajax.post("al_friends.php",i,{onDone:function(e){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(t,"touched"),n.innerHTML=e},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0},showProgress:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass.pbind(t,"loading"),hideProgress:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass.pbind(t,"loading")}),!1},actionFindUserCancel:function(e,_,r,s){var i,t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("friends_find_user",s);return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_find_user_result",t).innerHTML='<div class="progress_inline"></div>',Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(t,"touched"),i=r?{act:"remove",mid:e,hash:_}:{act:"cancel_hide_possible",mid:e,hash:_},ajax.post("al_friends.php",i,{onDone:function(e){},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0},showProgress:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass.pbind(t,"loading"),hideProgress:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass.pbind(t,"loading")}),!1},reportSpam:function(e,_,r){var s=r?domPN(r):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("request_controls_"+e);s||(s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("result_msg"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(s,"msg")),setTimeout(val.pbind(s,'<div class="progress_inline"></div>'),0),ajax.post("al_friends.php",{act:"report_spam",mid:e,hash:_},{onDone:function(e){s.innerHTML=e}})},restoreFriend:function(e,_){var r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("_actions_menu",e);ajax.post("al_friends.php",{act:"add",mid:_,hash:cur.userHash,cats:cur.savedMasks[_]},{onDone:Friends.onRemoveFriend.pbind(_,!0),showProgress:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass.pbind(r,"action_progress"),hideProgress:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass.pbind(r,"action_progress")})},deleteFriend:function(e,_,r){var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("_actions_menu",r);return ajax.post("al_friends.php",{act:"remove",mid:_,hash:cur.userHash},{onDone:Friends.onRemoveFriend.pbind(_,!1),showProgress:function(){uiActionsMenu.hide(s),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(s,"action_progress")},hideProgress:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(s,"action_progress")}}),!1},onRemoveFriend:function(e,_){for(var r in cur.friendsList)"all"!=r&&"requests"!=r&&"all_requests"!=r&&"out_requests"!=r&&delete cur.friendsList[r];e=positive(e);var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_user_row"+e),i=cur.friends[e];i&&s?(_?(i[6]=cur.savedMasks[e],delete cur.savedMasks[e]):(cur.savedMasks[e]=i[6],i[6]=0),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.toggleClass)(s,"deleted",!i[6])):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.re)(s),Friends.indexAll(function(){})},showCommonBox:function(e,_){return showTabbedBox("al_page.php",{act:"box",oid:_,tab:"common"},{cache:1},e),!1},toList:function(e){var _="list"+e;return nav.change({0:"al_friends.php",section:_}),scrollToTop(0),!1},searchFriendToggle:function(e,_,r){var s=r?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_subsc"+e):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_unsubsc"+e),i=r?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_unsubsc"+e):Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_subsc"+e);ajax.post("al_friends.php",{act:r?"add":"remove",mid:e,hash:_,from:"friends"},{onDone:function(e){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(s),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)(i)},showProgress:lockButton.pbind(s),hideProgress:unlockButton.pbind(s)})},checkCat:function(e,_,r,s){var i,t;1==s?i=isChecked(e):(i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(e,"checked"),t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("lists"+_));var n=cur.friends[_];if(!n)return!1;n[6]=parseInt(n[6]),i?(n[6]&1<<r&&(n[6]-=1<<r),t&&(t.innerHTML=Friends.getLists(n[6]))):(n[6]&1<<r||(n[6]+=1<<r),t&&(t.innerHTML=Friends.getLists(n[6]))),1==s?checkbox(e):(i?_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass:_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(e,"checked"),cur.timeouts["list"+_]&&clearTimeout(cur.timeouts["list"+_]),delete cur.friendsList["list"+r],delete cur.friendsList["list"+n[6]],cur.timeouts["list"+_]=setTimeout(function(){ajax.post("al_friends.php",{act:"save_cats",uid:_,cats:n[6],hash:cur.userHash},{onDone:function(e){if(s){var r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_added_"+_);!cur["fr_add_text_"+_]&&r&&(cur["fr_add_text_"+_]=r.innerHTML),fadeTo(r,100,0,function(){r.innerHTML=e,fadeTo(r,100,1)}),clearTimeout(cur["fr_add_timeout_"+_]),cur["fr_add_timeout_"+_]=setTimeout(function(){fadeTo(r,100,0,function(){r.innerHTML=cur["fr_add_text_"+_],fadeTo(r,100,1)})},2e3)}}})})},getLists:function(e){for(var _=[],r=29;r>=25;r--)1<<r&e&&cur.publicLists[r]&&_.push('<span class="friends_lists_group group',(r-1)%8+1,'" onmousedown="Friends.toList(',r,');">',cur.publicLists[r],"</span>");if(vk.id==cur.oid)for(var s in cur.userLists)1<<s&e&&!cur.publicLists[s]&&cur.userLists[s]&&_.push('<span class="friends_lists_group group',(s-1)%8+1,'" onmousedown="Friends.toList(',s,');">',cur.userLists[s],"</span>");return _.join("")},subscribeAllRequests:function(e,_){showFastBox(cur.summaryLang.global_action_confirmation,cur.summaryLang.friends_confirm_subscribe_all_requests,getLang("box_yes"),function(){ajax.post("al_friends.php",{act:"subscribe_all_requests",hash:_,once:1},{showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e)})},getLang("box_no"))},hideAllSuggs:function(e,_){showFastBox(cur.summaryLang.global_action_confirmation,cur.summaryLang.friends_confirm_hide_all_suggs,getLang("box_yes"),function(){ajax.post("al_friends.php",{act:"hide_all_suggs",hash:_},{showProgress:lockButton.pbind(e),hideProgress:unlockButton.pbind(e)})},getLang("box_no"))},editList:function(e){if(cur.silent)cur.onSilentLoad=function(){Friends.editList(e)};else{var _=[];if(-1==e&&(e=intval(cur.curList.substr(4))),e)for(var r=Friends.filter(cur.friendsList.all,cur.curList),s=r.length;s--;)_.push(r[s][0]);else e=0;showTabbedBox("al_friends.php",{act:"select_friends_box",Checked:_.join(","),from:"list",list_name:e?replaceEntities(stripHTML(cur.userLists[e])):"",list_id:e},{stat:[jsc("web/privacy.js"),"ui_controls.js","ui_controls.css"],cache:1,onFail:function(e){return setTimeout(showFastBox(getLang("global_error"),e).hide,3e3),!0}}),cur.onFlistSave=function(_,r,s,i){var t=[];for(var n in r)r.hasOwnProperty(n)&&t.push(parseInt(n));return ajax.post("al_friends.php",{act:"save_list",title:i,cat_id:e,Friends:t.join(","),hash:s},{onDone:function(_,r){Friends.editListClient(e,_,r,t)},onFail:function(e){return setTimeout(showFastBox(getLang("global_error"),e,getLang("global_close")).hide,4e3),!0}}),Friends.clearFilter(),Friends.updateCurFilters(),!1}}},editListClient:function(e,_,r,s){var i="list"+_;if(0==e){var t=`<div onclick="return Friends.switchMenu(this, 'list${_}', event);"  class="ui_rmenu_subitem ui_rmenu_item_sel friends_section_list${_}">${r}</div>`;Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("ui_rmenu_lists_list").insertBefore(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ce)("div",{innerHTML:t}),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_create_list","narrow_column"));var n=s.length,o=1<<parseInt(_);for(cur.friendsList[i]=[];n--;){var c=cur.friends[s[n]];c[6]=parseInt(c[6]),c[6]&o||(c[6]+=o,cur.friendsList[i].push(c))}return cur.userLists[_]=r,Friends.indexAll(),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("main_class"),"no_lists"),nav.change({0:"friends",section:i})}_<25&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_list"+_,"narrow_column").innerHTML=r,cur.userLists[_]=r);var u=1<<_;for(var a in cur.friendsList[i]=[],cur.friends)if(cur.friends.hasOwnProperty(a)){var d=cur.friends[a],l=-1!=s.indexOf(parseInt(d[0]));l&&cur.friendsList[i].push(d),d[6]=parseInt(d[6]),d[6]&u?l||(d[6]-=u):l&&(d[6]+=u)}return Friends.indexAll(),Friends.section(i,function(){Friends.changeSummary(),nav.setLoc({0:"friends",section:i})})},createList:function(e){return Friends.editList(0),cancelEvent(e)},deleteList:function(e){-1==e&&(e=intval(cur.curList.substr(4))),showBox("al_friends.php",{act:"delete_list_box",list_id:e})},deleteListClient:function(e){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.re)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("friends_section_list"+e,"narrow_column"));var _=1<<e;for(var r in cur.friends)cur.friends[r][6]&_&&(cur.friends[r][6]-=_);delete cur.userLists[e];var s=0;for(var i in cur.userLists)cur.userLists.hasOwnProperty(i)&&s++;return s||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("main_class"),"no_lists"),nav.change({0:"friends",section:"all"})},selectList:function(e,_,r){Friends.ddShow(_,e,r)},showListsDD:function(e,_,r){var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("ui_actions_menu",_),i=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_actions_menu_sublist",s);if(i){var t=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.data)(i,"hidetimer");return clearTimeout(t),void Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.data)(i,"hidetimer",0)}var n=cur.friends[parseInt(e)];if(n){for(var o,c=parseInt(n[6]),u=[],a=[28,29,27,25,26],d=0;d<5;++d)o=a[d],cur.publicLists[o]&&u.push('<a class="ui_actions_menu_item'+(c&1<<parseInt(o)?" checked":"")+'" onclick="Friends.checkCat(this, '+e+", "+o+');">'+cur.publicLists[o]+"</a>");for(var l in cur.userLists)if(l<25){var b=cur.userLists[l];b.length>20&&(b=trim(b.substr(0,18))+"..."),u.push('<a class="ui_actions_menu_item'+(c&1<<parseInt(l)?" checked":"")+'" onclick="Friends.checkCat(this, '+e+", "+l+');">'+b+"</a>")}u=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.se)('<div class="ui_actions_menu_sublist shown" onmouseover="Friends.showListsDD('+e+', this, event);" onmouseout="Friends.hideListsDD(this);" onclick="Friends.showListsDD('+e+', this, event);">'+u.join("")+"</div>"),s.appendChild(u)}},hideListsDD:function(e){var _=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("ui_actions_menu",e),r=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("ui_actions_menu_sublist",_);r&&(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.data)(r,"hidetimer")||Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.data)(r,"hidetimer",setTimeout(function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.data)(r,"hidetimer",0),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.re)(r)},150)))},hideSuggestion:function(e,_,r){var s=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("request_controls_"+e);ajax.post("al_friends.php",{act:"hide_suggestion",mid:e,hash:_,report_spam:1},{onDone:function(_){cur.hiddenSuggestionsCnt=cur.hiddenSuggestionsCnt+1||1,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.gpeByClass)("friends_user_row",s),"friends_user_request")&&cur.hiddenSuggestionsCnt>=2&&cur.suggCount>1&&(_+='<button class="friends_decline_all flat_button button_small secondary" onclick="Friends.hideAllSuggs(this, \''+cur.declineAllHash+"')\">"+cur.summaryLang.friends_hide_all_suggs+"</button>"),s.innerHTML=_,Friends.processRequest(e,!1,!0)},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0},showProgress:lockButton.pbind(r),hideProgress:unlockButton.pbind(r)})},addRecommend:function(e,_,r,s){(s=s.parentNode).innerHTML='<img src="/images/upload.gif" />',ajax.post("al_friends.php",{act:"a_suggest_friends",mid:e,uids:_,hash:r,from:"add"},{onDone:function(e){s.innerHTML=e},onFail:function(e){s.innerHTML=e}})},suggestBox:function(e){var _=showBox("al_friends.php",{act:"select_friends_box",from:"suggest_friends",friend_id:e},{stat:[jsc("web/privacy.js"),"privacy.css",jsc("web/indexer.js"),"profile.css"],params:{dark:1}});return _.leaveOnSave=!0,cur.onFlistSave=function(r,s,i){ajax.post("al_friends.php",{act:"a_suggest_friends",mid:e,ids:r.join(","),hash:i},{onDone:function(e){_.hide(),showDoneBox(e)},showProgress:_.showProgress,hideProgress:_.hideProgress})},!1},getAgeFromData:function(e,_){return!(e=parseInt(e))>0&&(e=_.ageTo),Friends.getRangeData(_.ageFrom,e,1,_.langAgeFrom+" ",_.langAgeFromEmpty)},getAgeToData:function(e,_){return!(e=parseInt(e))>0&&(e=_.ageFrom),Friends.getRangeData(e,_.ageTo,1,_.langAgeTo+" ",_.langAgeToEmpty)},getRangeData:function(e,_,r,s,i){if(e>_)return!1;var t=[[0,i]];if(r<0)for(var n=_;n>=e;n+=r)t.push([n,s+n]);else if(r>0)for(var o=e;o<=_;o+=r)t.push([o,s+o]);return t},radioFilter:function(e,_,r){radiobtn(e,_,"friends_radio_sex"),(r||null==r)&&Friends.changeFilter()},initFilters:function(e){stManager.add(["ui_controls.js","ui_controls.css"],function(){cur.cityFilter=new Dropdown(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_fltr_city"),e.cities,{big:1,zeroPlaceholder:!0,onChange:Friends.changeFilter,onShow:function(){cur.silent&&(cur.cityFilterOpened=!0,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_fltr_progress"))}}),cur.ageFromFilter=new Dropdown(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_age_from"),Friends.getAgeFromData(e.ageTo,e),{zeroPlaceholder:!0,big:1,onChange:function(_){cur.ageToFilter.setData(Friends.getAgeToData(_,e)),Friends.changeFilter()}}),cur.ageToFilter=new Dropdown(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_age_to"),Friends.getAgeToData(e.ageFrom,e),{zeroPlaceholder:!0,big:1,onChange:function(_){cur.ageFromFilter.setData(Friends.getAgeFromData(_,e)),Friends.changeFilter()}}),window.radioBtns.friends_radio_sex={els:Array.prototype.slice.apply(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass)("radiobtn",Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_radio_sex"))),val:0}})},clearFilter:function(e,_){cur.cityFilter&&(_&&"city"!=_||cur.cityFilter.selectItem(0,!1),_&&"age_from"!=_||cur.ageFromFilter.selectItem(0,!1),_&&"age_to"!=_||cur.ageToFilter.selectItem(0,!1),_&&"sex"!=_||Friends.radioFilter(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_radio_any"),0,!1),cur.filterIds=!1,cur.filter=!1,e&&Friends.changeFilter())},filterParams:function(){var e={city:parseInt(cur.cityFilter.val()),sex:parseInt(radioBtns.friends_radio_sex.val),age_from:parseInt(cur.ageFromFilter.val()),age_to:parseInt(cur.ageToFilter.val())};return!!(e.city||e.sex||e.age_from||e.age_to)&&e},changeFilter:function(){if(cur.silent)return cur.onSilentLoad=function(){Friends.changeFilter()},Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(cur.showMore),void(cur.fContent.innerHTML='<div class="friends_wide_loading"></div>');if(cur.filter=Friends.filterParams(),cur.filter)ajax.post("friends",extend({act:"filter_friends",uid:cur.oid},cur.filter),{onDone:function(e){for(var _ in cur.filterIds={},e)e.hasOwnProperty(_)&&(cur.filterIds[e[_]]=1);for(var r in cur.friendsList)"filter"==r.split("_").pop()&&delete cur.friendsList[r];inArray(cur.section,["all","online","phonebook"])||(Friends.selectTab("all"),Friends.selectSection("all"),cur.curList=cur.section="all",nav.setLoc(extend(nav.objLoc,{section:"all"}))),Friends.search(cur.searchStr||-1,cur.section,!1,!0),Friends.changeSummary(),Friends.updateCurFilters()},progress:"friends_fltr_progress",cache:1});else{cur.filterIds&&(cur.filterIds=!1);var e=cur.searchStr||"";cur.searchStr="",Friends.updateList(e),Friends.updateCurFilters()}},updateCurFilters:function(){var e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_cur_filters");if(cur.filter){for(var _ in cur.filter)if(cur.filter.hasOwnProperty(_)){var r=cur.filter[_],s="",i=!1,t=!1,n=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_filters_token_"+_);if(r){switch(_){case"city":s=cur.cityFilter.val_full()[1];break;case"age_from":s=cur.ageFromFilter.val_full()[1],i="age_to";break;case"age_to":s=cur.ageToFilter.val_full()[1],t="age_from";break;case"sex":s=2==r?getLang("sex_m"):getLang("sex_fm")}var o='<span class="label">'+(s=stripHTML(s))+'</span><span class="del_icon"></span>';if(n)n.innerHTML=o;else{var c=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ce)("div",{id:"friends_filters_token_"+_,className:"token",innerHTML:o,onclick:Friends.clearFilter.pbind(!0,_)});i&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_filters_token_"+i)?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.domInsertBefore)(c,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_filters_token_"+i)):t&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_filters_token_"+t)?Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.domInsertAfter)(c,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("friends_filters_token_"+t)):e.appendChild(c)}}else n&&Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.re)(n)}Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)(e)}else Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)(e),e.innerHTML=""},changeFriendsOrder:function(e,_){var r=domPN(e);"date"===_&&"date"!==nav.objLoc.sort?(nav.change({sort:!1}),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(r,"friends_sort_sel_date"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(r,"friends_sort_sel_common")):"common"===_&&"common"!==nav.objLoc.sort&&(nav.change({sort:"common"}),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.addClass)(r,"friends_sort_sel_common"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.removeClass)(r,"friends_sort_sel_date"))},findAdd:function(e,_,r){ajax.post("al_friends.php",{act:"add",mid:e,hash:_,request:1,short_resp:1},{onDone:function(e){var _=r.parentNode;_.innerHTML='<div class="friends_imp_status" style="display: none;">'+e+"</div>",fadeIn(_.firstChild,200)},onFail:function(e){if(e)return showFastBox(getLang("global_error"),e),!0},showProgress:lockButton.pbind(r),hideProgress:unlockButton.pbind(r)})},toggleFindFilters:function(e,_){var r=_?0:200;e||(e=Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.ge)("search_filters_minimized"),_?searcher.toggleMinimizedFilters(e,!0,_):searcher.toggleMinimizedFilters(e)),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)(e,"ui_rmenu_item_expanded")?(slideUp("friends_import_block",r,function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_import_stub")}),cur.disableAutoMore=!1,Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.geByClass1)("search_row","results")&&searcher.updResults()):(Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("friends_import_stub","friends_filters_header","results"),Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.show)("friends_import_header","friends_list_wrap"),slideDown("friends_import_block",r),nav.setLoc("friends?act=find"),val("search_query",""),cur.params&&(cur.params["c[q]"]=""),cur.disableAutoMore=!0,scrollToTop())},extendedSearchQuery:function(){Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hasClass)("search_filters_minimized","ui_rmenu_item_expanded")||Friends.toggleFindFilters(!1,!0),searcher.onEnter()},clearFindParams:function(e,_){return Object(_web_lib_dom__WEBPACK_IMPORTED_MODULE_8__.hide)("search_clear_params"),uiSearch.reset(e,!1,_)}};__webpack_exports__.default=Friends}});